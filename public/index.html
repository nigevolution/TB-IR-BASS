/* ================== CRONÔMETRO ================== */
function startCountdown() {
  document.querySelectorAll(".countdown").forEach(el => {
    const target = new Date(el.dataset.date).getTime();

    const timer = setInterval(() => {
      const diff = target - Date.now();

      if (diff <= 0) {
        el.outerHTML = `
          <div class="price">R$ ${Number(el.dataset.price).toFixed(2).replace(".", ",")}</div>
          <button class="buy-btn" onclick="window.open('${el.dataset.link}')">Comprar agora</button>
        `;
        clearInterval(timer);
        return;
      }

      const d = Math.floor(diff / 86400000);
      const h = Math.floor((diff / 3600000) % 24);
      const m = Math.floor((diff / 60000) % 60);
      const s = Math.floor((diff / 1000) % 60);

      el.innerHTML = `⏳ ${d}d ${h}h ${m}m ${s}s`;
    }, 1000);
  });
}
startCountdown();
