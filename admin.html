<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TB-BASS IR â€¢ Painel</title>
<style>
body {
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial;
  text-align:center;
}

#hero {
  height:100vh;
  background:url('/logo.png') center/contain no-repeat;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  padding-bottom:60px;
}

.panel {
  background:rgba(0,0,0,.85);
  display:inline-block;
  padding:30px 40px;
  border-radius:16px;
  box-shadow:0 0 40px #ff4500;
}

input,button {
  padding:12px;
  margin:6px;
  border-radius:8px;
  border:none;
}

button {
  background:#ff4500;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}

pre {
  color:#00ffd5;
}
</style>
</head>

<body>

<div id="hero">
  <div class="panel">
    <h2>Gerar Link de IR</h2>

    <input id="c" placeholder="Cliente"><br>
    <input id="i" placeholder="Arquivo WAV"><br>
    <input id="h" placeholder="Horas validade"><br>
    <button onclick="gerar()">Gerar Link</button>
    <pre id="out"></pre>
  </div>
</div>

<script>
async function gerar(){
 const r = await fetch("/.netlify/functions/generate", {
   method:"POST",
   body: JSON.stringify({
     customer: c.value,
     ir_file: i.value,
     hours: h.value
   })
 })
 const j = await r.json()
 out.textContent = j.link
}
</script>

</body>
</html>
